<div class="offnavs"></div>
<div class="container">
  <div class="row">
    <div class="col-lg-8 mx-auto form">
      <h1 class="page-title center">CRÉER UNE BIÈRE</h1>
      <%= simple_form_for @beer do |f| %>
        <div class="form-inputs">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-lg-6">
              <%= f.input :name, required: false, label: 'MARQUE'  %>
            </div>
            <div class="col-xs-6 col-sm-6 col-lg-6">
              <label class="btn photo bottom">
                Choisir une photo
                <span style="display:none;">
                  <%= f.input :photo, as: :file, required: true, multiple: true, name: 'picture' %>
                </span>
              </label>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 mx-auto">
              <label class="control-label check_boxes optional">TYPE DE BIÈRE</label>
              <input type="hidden" name="beer[typical_beer_id]" value="">
              <div class="typical_beer-available">
                <% TypicalBeer.all.each do |typical_beer| %>
                  <div class="col-lg-4">
                    <div class="form-check">
                      <input class="hidden" type="hidden" value="<%= typical_beer.id %>" name="beer[typical_beer_id]" id="beer_typical_beer_id_<%= typical_beer.id %>">
                      <label class="typical_beer-choice" for="beer_typical_beer_id_<%= typical_beer.id %>">
                        <div class=" ">
                          <% if typical_beer.photo.present? %>
                            <%= cl_image_tag typical_beer.photo.key, height: 160, width: 160, crop: :fill, class: 'img-fluid' %>
                          <% else %>
                            <%= cl_image_tag "https://res.cloudinary.com/da2krghvd/image/upload/s--3VS66tIf--/c_fill,h_450,q_jpegmini,w_450/v1622028586/glass-cold-beer-bottoms-up-with-beautiful-bokeh-friends-drink-beer-together-dark-tone_34939-279_ldvuqt.jpg", height: 160, width: 160, crop: :fill, class: 'img-fluid' %>
                          <% end %>
                          <div class="card-body">
                            <p class="card-text"><%= typical_beer.style.name %></p>
                          </div>
                        </div>
                      </label>
                    </div>
                  </div>
                <% end %>
              </div>
            </div>
          </div>

          <%= f.association :beer_family, required: false, as: :radio_buttons, label: 'FAMILLE DE BIÈRE',
                input_html: { class: "tag-selector" },
                item_wrapper_class: 'tag-item'  %>
          <div class="geek-link center">Geek</div>

          <div class="geek">
            <div class="row">
              <div class="col-xs-4 col-sm-4 col-lg-4">
                <%= f.input :color, input_html: { min: '1', max:'80'}, required: false, label: 'EBC' %>
              </div>
              <div class="col-xs-4 col-sm-4 col-lg-4">
                <%= f.input :alcohol_level, input_html: { min: '0'}, required: false, label: "NIVEAU D'ALCOOL"  %>
              </div>
              <div class="col-xs-4 col-sm-4 col-lg-4">
                <%= f.input :bitterness, input_html: { min: '1', max:'100'}, required: false, label: "IBU" %>
              </div>
            </div>
            <%= f.input :description, required: false, label: "COURTE DESCRIPTION"  %>
          </div>
          <div class="infos">
            <p class='center'><%= f.button :submit, "Valider", class: "btn btn-ghost bottom"  %></p>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
$(document).ready(function () {
    $('.typical_beer-choice').bind('click', function() {
        // remove the active class from all elements with active class
        $('.on').removeClass('on')
        // add on class to clicked element
        $(this).addClass('on');
    });
});
</script>

<script>
  $(document).ready(function(){

    $(".geek").hide();

      $(".geek-link").click(function(){

        $(".geek").toggle();

      });

    });
</script>
